<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Vpee class</title>
<link href="apbs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>Vpee class</h1>This class provides some functionality for error esimation in parallel. 
<a href="#_details">More...</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Files</h2></td></tr>
<tr><td nowrap align=right valign=top>file &nbsp;</td><td valign=bottom><a class="el" href="vpee_8h.html">vpee.h</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Contains declarations for class Vpee.</em></font><br><br></td></tr>

<p>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td nowrap align=right valign=top>struct &nbsp;</td><td valign=bottom><a class="el" href="structsVpee.html">sVpee</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Contains public data members for Vpee class/module.</em> <a href="structsVpee.html#_details">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Typedefs</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="Vpee::Vpee"></a>
typedef <a class="el" href="structsVpee.html">sVpee</a>&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a0">Vpee</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Declaration of the Vpee class as the Vpee structure.</em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>Vpee *&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a1">Vpee_ctor</a> (Gem *<a class="el" href="structsVpee.html#m0">gm</a>, int <a class="el" href="structsVpee.html#m1">localPartID</a>, int <a class="el" href="structsVpee.html#m4">killFlag</a>, double <a class="el" href="structsVpee.html#m5">killParam</a>)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Construct the Vpee object.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a2">Vpee_ctor2</a> (Vpee *thee, Gem *<a class="el" href="structsVpee.html#m0">gm</a>, int <a class="el" href="structsVpee.html#m1">localPartID</a>, int <a class="el" href="structsVpee.html#m4">killFlag</a>, double <a class="el" href="structsVpee.html#m5">killParam</a>)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>FORTRAN stub to construct the Vpee object.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a3">Vpee_dtor</a> (Vpee **thee)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Object destructor.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a4">Vpee_dtor2</a> (Vpee *thee)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>FORTRAN stub object destructor.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a5">Vpee_markRefine</a> (Vpee *thee, AM *am, int level, int akey, int rcol, double etol, int bkey)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mark simplices for refinement based on attenuated error estimates.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="group__Vpee.html#a6">Vpee_numSS</a> (Vpee *thee)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the number of simplices in the local partition.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class provides some functionality for error esimation in parallel.
<p>
This class provides some functionality for error esimation in parallel. The purpose is to modulate the error returned by some external error estimator according to the partitioning of the mesh. For example, the Bank/Holst parallel refinement routine essentially reduces the error outside the ``local" partition to zero. However, this leads to the need for a few final overlapping Schwarz solves to smooth out the errors near partition boundaries. Supposedly, if the region in which we allow error-based refinement includes the ``local" partition and an external buffer zone approximately equal in size to the local region, then the solution will asymptotically approach the solution obtained via more typical methods. This is essentially a more flexible parallel implementation of MC's AM_markRefine. <hr><h2>Function Documentation</h2>
<a name="a1" doxytag="vpee.h::Vpee_ctor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="group__Vpee.html#a0">Vpee</a>* Vpee_ctor </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Gem *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>gm</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>localPartID</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>killFlag</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>killParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Construct the Vpee object.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Nathan Baker </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>gm</em>&nbsp;</td><td>
Gem (geometry manager) object </td></tr>
<tr><td valign=top><em>localPartID</em>&nbsp;</td><td>
The ID of the local partition </td></tr>
<tr><td valign=top><em>killFlag</em>&nbsp;</td><td>
A flag to indicate how error estimates are to be attenuated outside the local partition: <ul>
<li> 0: no attenuation <li> 1: all error outside the local partition set to zero <li> 2: all error is set to zero outside a sphere of radius (killParam*partRadius), where partRadius is the radius of the sphere circumscribing the local partition <li> 3: all error is set to zero except for the local partition and its immediate neighbors </ul>
</td></tr>
<tr><td valign=top><em>killParam</em>&nbsp;</td><td>
</td></tr>
</table>
</dl><dl compact><dt><b>See also: </b></dt><dd>
killFlag for usage </dl><dl compact><dt><b>Returns: </b></dt><dd>
Newly constructed Vpee object </dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="vpee.h::Vpee_ctor2"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int Vpee_ctor2 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Vpee.html#a0">Vpee</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>thee</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>Gem *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>gm</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>localPartID</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>killFlag</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>killParam</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FORTRAN stub to construct the Vpee object.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Nathan Baker </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>thee</em>&nbsp;</td><td>
Memory location for new object </td></tr>
<tr><td valign=top><em>gm</em>&nbsp;</td><td>
Gem (geometry manager) object </td></tr>
<tr><td valign=top><em>localPartID</em>&nbsp;</td><td>
The ID of the local partition </td></tr>
<tr><td valign=top><em>killFlag</em>&nbsp;</td><td>
A flag to indicate how error estimates are to be attenuated outside the local partition: <ul>
<li> 0: no attenuation <li> 1: all error outside the local partition set to zero <li> 2: all error is set to zero outside a sphere of radius (killParam*partRadius), where partRadius is the radius of the sphere circumscribing the local partition <li> 3: all error is set to zero except for the local partition and its immediate neighbors </ul>
</td></tr>
<tr><td valign=top><em>killParam</em>&nbsp;</td><td>
</td></tr>
</table>
</dl><dl compact><dt><b>See also: </b></dt><dd>
killFlag for usage </dl><dl compact><dt><b>Returns: </b></dt><dd>
1 if successful, 0 otherwise </dl>    </td>
  </tr>
</table>
<a name="a3" doxytag="vpee.h::Vpee_dtor"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Vpee_dtor </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Vpee.html#a0">Vpee</a> **&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>thee</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Object destructor.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Nathan Baker </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>thee</em>&nbsp;</td><td>
Pointer to memory location of object to be destroyed </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="vpee.h::Vpee_dtor2"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Vpee_dtor2 </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Vpee.html#a0">Vpee</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>thee</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FORTRAN stub object destructor.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Nathan Baker </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>thee</em>&nbsp;</td><td>
Pointer to object to be destroyed </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="vpee.h::Vpee_markRefine"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int Vpee_markRefine </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Vpee.html#a0">Vpee</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>thee</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>AM *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>am</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>level</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>akey</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>rcol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>etol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>bkey</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mark simplices for refinement based on attenuated error estimates.
<p>
A wrapper/reimplementation of AM_markRefine that allows for more flexible attenuation of error-based markings outside the local partition. The error in each simplex is modified by the method (see killFlag) specified in the Vpee constructor. This allows the user to confine refinement to an arbitrary area around the local partition.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Nathan Baker and Mike Holst </dl><dl compact><dt><b>Note: </b></dt><dd>
This routine borrows very heavily from FEtk routines by Mike Holst. </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>thee</em>&nbsp;</td><td>
The Vpee object </td></tr>
<tr><td valign=top><em>am</em>&nbsp;</td><td>
The AM (algebra manager) object currently in use for solving the PBE </td></tr>
<tr><td valign=top><em>level</em>&nbsp;</td><td>
Current level of multigrid hierarchy </td></tr>
<tr><td valign=top><em>akey</em>&nbsp;</td><td>
The marking method: <ul>
<li> -1: Reset markings --&gt; killFlag has no effect. <li> 0: Uniform. <li> 1: User defined (geometry-based). <li> &gt;1: A numerical estimate for the error has already been set in am and should be attenuated according to killFlag and used, in conjunction with etol, to mark simplices for refinement. </ul>
</td></tr>
<tr><td valign=top><em>rcol</em>&nbsp;</td><td>
The ID of the main partition on which to mark (or -1 if all partitions should be marked). Note that we should have (rcol == thee-&gt;localPartID) for (thee-&gt;killFlag == 2 or 3) </td></tr>
<tr><td valign=top><em>etol</em>&nbsp;</td><td>
The error tolerance criterion for marking </td></tr>
<tr><td valign=top><em>bkey</em>&nbsp;</td><td>
How the error tolerance is interpreted: <ul>
<li> 0: Simplex marked if error &gt; <img align="top" src="form_71.png">
. <li> 1: Simplex marked if error &gt;. <img align="top" src="form_72.png">
 where <img align="top" src="form_71.png">
 is the error tolerance and <img align="top" src="form_73.png">
 is the number of simplices </ul>
</td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The number of simplices marked for refinement. </dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="vpee.h::Vpee_numSS"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int Vpee_numSS </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__Vpee.html#a0">Vpee</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>thee</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of simplices in the local partition.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Nathan Baker </dl><dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>thee</em>&nbsp;</td><td>
Vpee object </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Number of simplices in the local partition </dl>    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Tue Feb 10 15:17:16 2004 for APBS by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
