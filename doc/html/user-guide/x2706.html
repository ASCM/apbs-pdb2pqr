<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>OpenDX scalar data format</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="APBS 0.4.0 User Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="File formats"
HREF="a2598.html"><LINK
REL="PREVIOUS"
TITLE="Harwell-Boeing column-compressed matrix
      format"
HREF="x2701.html"><LINK
REL="NEXT"
TITLE="License"
HREF="a2830.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>APBS 0.4.0 User Guide: Adaptive Poisson-Boltzmann Solver</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x2701.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix A. File formats</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="a2830.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="opendx-format"
>A.4. OpenDX scalar data format</A
></H1
><P
>We output most discretized scalar data (e.g., potential,
      accessibility, etc.) from APBS in the data format used by the OpenDX
      software package
      (<A
HREF="http://www.opendx.org"
TARGET="_top"
>http://www.opendx.org</A
>).  The
      OpenDX data format is very flexible; the following sections describe the
      application of this format for APBS multigrid and finite element
      datasets.
    </P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN2710"
>A.4.1. Multigrid</A
></H2
><P
>&#13;        This data format has the following form:
        <PRE
CLASS="programlisting"
>&#13;          # <TT
CLASS="replaceable"
><I
>Comments</I
></TT
>
          <TT
CLASS="literal"
>object 1 class gridpositions counts</TT
> <TT
CLASS="replaceable"
><I
>nx ny nz</I
></TT
>
          <TT
CLASS="literal"
>origin</TT
> <TT
CLASS="replaceable"
><I
>xmin ymin zmin</I
></TT
>
          <TT
CLASS="literal"
>delta</TT
> <TT
CLASS="replaceable"
><I
>hx</I
></TT
> 0.0 0.0
          <TT
CLASS="literal"
>delta</TT
> 0.0 <TT
CLASS="replaceable"
><I
>hy</I
></TT
> 0.0 
          <TT
CLASS="literal"
>delta</TT
> 0.0 0.0 <TT
CLASS="replaceable"
><I
>hz</I
></TT
>
          <TT
CLASS="literal"
>object 2 class gridconnections counts</TT
> <TT
CLASS="replaceable"
><I
>nx ny nz</I
></TT
>
          <TT
CLASS="literal"
>object 3 class array type double rank 0 times</TT
> <TT
CLASS="replaceable"
><I
>n data follows</I
></TT
>
          <TT
CLASS="replaceable"
><I
>u(0,0,0) u(0,0,1) u(0,0,2)</I
></TT
>
          ...
          <TT
CLASS="replaceable"
><I
>u(0,0,nz-3) u(0,0,nz-2) u(0,0,nz-1)</I
></TT
>
          <TT
CLASS="replaceable"
><I
>u(0,1,0) u(0,1,1) u(0,1,2)</I
></TT
>
          ...
          <TT
CLASS="replaceable"
><I
>u(0,1,nz-3) u(0,1,nz-2) u(0,1,nz-1)</I
></TT
>
          ...
          <TT
CLASS="replaceable"
><I
>u(0,ny-1,nz-3) u(0,ny-1,nz-2) u(0,ny-1,nz-1)</I
></TT
>
          <TT
CLASS="replaceable"
><I
>u(1,0,0) u(1,0,1) u(1,0,2)</I
></TT
>
          ...
          <TT
CLASS="literal"
>attribute "dep" string "positions"</TT
>
          <TT
CLASS="literal"
>object "regular positions regular connections" class field</TT
>
          <TT
CLASS="literal"
>component "positions" value 1</TT
>
          <TT
CLASS="literal"
>component "connections" value 2</TT
>
          <TT
CLASS="literal"
>component "data" value 3</TT
>
        </PRE
>
        The variables in this example are:
        <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="replaceable"
><I
>Comments</I
></TT
></DT
><DD
><P
>Any number of comment lines, each line starting with the
                "#" symbol</P
></DD
><DT
><TT
CLASS="replaceable"
><I
>nx ny nz</I
></TT
></DT
><DD
><P
>&#13;                The number of grid points in the x-, y-, and z-directions.
              </P
></DD
><DT
><TT
CLASS="replaceable"
><I
>xmin ymin zmin</I
></TT
></DT
><DD
><P
>&#13;                The coordinates of the grid lower corner.
              </P
></DD
><DT
><TT
CLASS="replaceable"
><I
>hx hy hz</I
></TT
></DT
><DD
><P
>&#13;                The grid spacings in the x-, y-, and z-directions.
              </P
></DD
><DT
><TT
CLASS="replaceable"
><I
>n</I
></TT
></DT
><DD
><P
>&#13;                The total number of grid points; 
                <TT
CLASS="replaceable"
><I
>n</I
></TT
> =
                <TT
CLASS="replaceable"
><I
>nx</I
></TT
> *
                <TT
CLASS="replaceable"
><I
>ny</I
></TT
> *
                <TT
CLASS="replaceable"
><I
>nz</I
></TT
> 
              </P
></DD
><DT
><TT
CLASS="replaceable"
><I
>u(*,*,*)</I
></TT
></DT
><DD
><P
>&#13;                The data values, ordered with the z-index increasing most
                quickly, followed by the y-index, and then the x-index.
              </P
></DD
></DL
></DIV
>
      </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="AEN2775"
>A.4.2. Finite element</A
></H2
><P
>For finite element solutions, the OpenDX format takes the following
        form:
        <PRE
CLASS="programlisting"
>&#13;          <TT
CLASS="literal"
>object 1 class array type float rank 1 shape 3 items</TT
> <TT
CLASS="replaceable"
><I
>N</I
></TT
>
          <TT
CLASS="replaceable"
><I
>v1x v1y v1z</I
></TT
>
          <TT
CLASS="replaceable"
><I
>v2x v2y v2z</I
></TT
>
          ...
          <TT
CLASS="replaceable"
><I
>vNx vNy vNz</I
></TT
>
          <TT
CLASS="literal"
>object 2 class array type int rank 1 shape 4 items</TT
> <TT
CLASS="replaceable"
><I
>M</I
></TT
>
          <TT
CLASS="replaceable"
><I
>s1a s1b s1c s1d</I
></TT
>
          <TT
CLASS="replaceable"
><I
>s2a s2b s2c s2d</I
></TT
>
          ...
          <TT
CLASS="replaceable"
><I
>sMa sMb sMc sMd</I
></TT
>
          <TT
CLASS="literal"
>attribute "element type" string "tetrahedra"</TT
>
          <TT
CLASS="literal"
>object 3 class array type float rank 0 items</TT
> <TT
CLASS="replaceable"
><I
>N</I
></TT
>
          <TT
CLASS="replaceable"
><I
>u1</I
></TT
>
          <TT
CLASS="replaceable"
><I
>u2</I
></TT
>
          ...
          <TT
CLASS="replaceable"
><I
>uN</I
></TT
>
          <TT
CLASS="literal"
>attribute "dep" string "positions"</TT
>
          <TT
CLASS="literal"
>object "irregular positions irregular connections" class field</TT
>
          <TT
CLASS="literal"
>component "positions" value 1</TT
>
          <TT
CLASS="literal"
>component "connections" value 2</TT
>
          <TT
CLASS="literal"
>component "data" value 3</TT
>
          <TT
CLASS="literal"
>end</TT
>
        </PRE
>
        where the variables are:
        <P
></P
><DIV
CLASS="variablelist"
><DL
><DT
><TT
CLASS="replaceable"
><I
>N</I
></TT
></DT
><DD
><P
>Number of vertices</P
></DD
><DT
><TT
CLASS="replaceable"
><I
>vix viy viz</I
></TT
></DT
><DD
><P
>Coordinates of vertex <TT
CLASS="replaceable"
><I
>i</I
></TT
></P
></DD
><DT
><TT
CLASS="replaceable"
><I
>M</I
></TT
></DT
><DD
><P
>Number of simplices</P
></DD
><DT
><TT
CLASS="replaceable"
><I
>sia sib sic sid</I
></TT
></DT
><DD
><P
>&#13;                IDs of vertices in simplex <TT
CLASS="replaceable"
><I
>i</I
></TT
>
              </P
></DD
><DT
><TT
CLASS="replaceable"
><I
>ui</I
></TT
></DT
><DD
><P
>&#13;                Data value associated with vertex <TT
CLASS="replaceable"
><I
>i</I
></TT
>
              </P
></DD
></DL
></DIV
>
      </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x2701.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="a2830.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Harwell-Boeing column-compressed matrix
      format</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="a2598.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>License</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>