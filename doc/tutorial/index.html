<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>APBS tutorial</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="id825257"></a>APBS tutorial</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Nathan</span> <span class="surname">Baker</span></h3><div class="affiliation"><span class="orgname">Washington University in St.  Louis<br></span><span class="orgdiv">Department of Biochemistry and
					Molecular Biophysics<br></span><span class="orgdiv">Center for Computational Biology<br></span></div></div></div><div><p class="copyright">Copyright © 2002, 2003, 2004, 2005, 2006 Washington University in St.  Louis</p></div><div><div class="legalnotice"><a name="id901869"></a><p>This file is part of APBS.</p><p>This program is free software; you can
				redistribute it and/or modify it under the
				terms of the GNU General Public License as
				published by the Free Software Foundation;
				either version 2 of the License, or (at your
				option) any later version.</p><p>This
				program is distributed in the hope that it will
				be useful, but WITHOUT ANY WARRANTY; without
				even the implied warranty of MERCHANTABILITY or
				FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
				General Public License for more details.</p><p>You should have received a copy of the GNU
				General Public License along with this program;
				if not, write to the Free Software Foundation,
				Inc., 59 Temple Place, Suite 330, Boston, MA
				02111-1307 USA</p><p>Linking APBS statically or dynamically with other
				modules is making a combined work based on
				APBS.  Thus, the terms and conditions of the
				GNU General Public License cover the whole
				combination.</p><p>SPECIAL GPL EXCEPTION: In addition, as a special
				exception, the copyright holders of APBS give
				you permission to combine the APBS program with
				free software programs and libraries that are
				released under the GNU LGPL or with code
				included in releases of ISIM, Ion Simulator
				Interface, PMV, PyMOL SMOL, VMD, and Vision.
				Such combined software may be linked with APBS
				and redistributed together in original or
				modified form as mere aggregation without
				requirement that the entire work be under the
				scope of the GNU General Public License.  This
				special exception permission is also extended
				to any software listed in the SPECIAL GPL
				EXCEPTION clauses by the PMG, FEtk, MC, or
				MALOC libraries.</p><p>Note that people who make modified versions of
				APBS are not obligated to grant this special
				exception for their modified versions; it is
				their choice whether to do so.  The GNU General
				Public License gives permission to release a
				modified version without this exception; this
				exception also makes it possible to release a
				modified version which carries forward this
				exception.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#introduction-sect">1. How to read this tutorial</a></span></dt><dt><span class="chapter"><a href="#pdb2pqr-sect">2. How do I get my structure ready for
			electrostatics calculations?</a></span></dt><dt><span class="chapter"><a href="#viz-sect">3. How do I visualize the electrostatic
potential around my biomolecule?</a></span></dt><dt><span class="chapter"><a href="#solvation-sect">4. How do I calculate a solvation
energy?</a></span></dt><dt><span class="chapter"><a href="#binding-sect">5. How do I calculate a binding
energy?</a></span></dt><dt><span class="chapter"><a href="#forces-sect">6. How do I calculate solvation
forces?</a></span></dt><dt><span class="chapter"><a href="#pka-sect">7. How do I calculate a pK<sub>a</sub>?</a></span></dt><dt><span class="chapter"><a href="#parallel-sect">8. My calculation requires too much memory!</a></span></dt><dt><span class="chapter"><a href="#simulation-sect">9. How do I use APBS with my
molecular dynamics program (for MM/PBSA, etc.)?</a></span></dt><dt><span class="chapter"><a href="#gemstone-sect">10. Can I run APBS via the web?  (Gemstone) </a></span></dt><dt><span class="chapter"><a href="#more-sect">11. More examples...</a></span></dt><dt><span class="chapter"><a href="#help-sect">12. None of this answered my question...</a></span></dt></dl></div><div class="list-of-figures"><p><b>List of Figures</b></p><dl><dt>10.1. <a href="#id902331">Gemstone PDB2PQR calculation</a></dt><dt>10.2. <a href="#id902420">Gemstone APBS/Calculation screen</a></dt><dt>10.3. <a href="#id902469">Gemstone APBS/Grid screen</a></dt><dt>10.4. <a href="#id902504">Gemstone APBS/Physics screen</a></dt><dt>10.5. <a href="#id902538">Gemstone APBS/File I/O screen</a></dt><dt>10.6. <a href="#id902566">Gemstone APBS/Calculation screen (run complete)</a></dt></dl></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="introduction-sect"></a>Chapter 1. How to read this tutorial</h2></div></div></div><p>This tutorial is designed as a "how to" document to get
			users acquainted with computational electrostatics
			calculations using APBS.  In order to perform the
			provided examples, you will need the latest version of
			APBS (<a href="http://apbs.sf.net" target="_top">http://apbs.sf.net</a>).  Other
			requirements are listed in the individual
			sections.</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="images/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>Note that many of the examples in this tutorial
				can also be run through the web-based <a href="http://gemstone.mozdev.org/" target="_top">Gemstone</a>
				service without the need for local
				installations of the APBS software.  More
				information is available in <a href="#gemstone-sect" title="Chapter 10. Can I run APBS via the web?  (Gemstone) ">Chapter 10, <i>Can I run APBS via the web?  (Gemstone) </i></a>.
			</p></td></tr></table></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="pdb2pqr-sect"></a>Chapter 2. How do I get my structure ready for
			electrostatics calculations?</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="viz-sect"></a>Chapter 3. How do I visualize the electrostatic
potential around my biomolecule?</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="solvation-sect"></a>Chapter 4. How do I calculate a solvation
energy?</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#id902028">4.1. Polar solvation</a></span></dt><dt><span class="sect1"><a href="#id902039">4.2. Apolar solvation</a></span></dt></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902028"></a>4.1. Polar solvation</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902039"></a>4.2. Apolar solvation</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="binding-sect"></a>Chapter 5. How do I calculate a binding
energy?</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#id902066">5.1. Hey! You don't have any parameters for my
ligand!</a></span></dt><dt><span class="sect1"><a href="#id902078">5.2. Polar contributions</a></span></dt><dt><span class="sect1"><a href="#id902090">5.3. Apolar contributions</a></span></dt></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902066"></a>5.1. Hey! You don't have any parameters for my
ligand!</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902078"></a>5.2. Polar contributions</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902090"></a>5.3. Apolar contributions</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="forces-sect"></a>Chapter 6. How do I calculate solvation
forces?</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#id902117">6.1. Polar solvation</a></span></dt><dt><span class="sect1"><a href="#id902128">6.2. Apolar solvation</a></span></dt></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902117"></a>6.1. Polar solvation</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902128"></a>6.2. Apolar solvation</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="pka-sect"></a>Chapter 7. How do I calculate a pK<sub>a</sub>?</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="parallel-sect"></a>Chapter 8. My calculation requires too much memory!</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="simulation-sect"></a>Chapter 9. How do I use APBS with my
molecular dynamics program (for MM/PBSA, etc.)?</h2></div></div></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>Under construction</p></td></tr></table></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="gemstone-sect"></a>Chapter 10. Can I run APBS via the web?  (Gemstone) </h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#id902225">10.1. Getting Gemstone</a></span></dt><dt><span class="sect1"><a href="#id902249">10.2. Preparing a structure with PDB2PQR</a></span></dt><dt><span class="sect1"><a href="#id902361">10.3. Perform an electrostatics calculation with APBS</a></span></dt></dl></div><p>Yes, you can run APBS via the web, thanks to the <a href="http://gemstone.mozdev.org" target="_top">Gemstone</a>
			service.  This section demonstrates how <a href="http://gemstone.mozdev.org" target="_top">Gemstone</a>
			can be used to perform most APBS calculations commonly
			done through the command-line interface.  Better yet,
			it allows you to use <a href="http://nbcr.net" target="_top">NBCR's</a> resources
			instead of your own!  
		</p><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902225"></a>10.1. Getting Gemstone</h2></div></div></div><p> You need to download and install the Gemstone
				extension for the <a href="http://www.mozilla.com/firefox/" target="_top">Firefox</a>
				web browser from <a href="http://gemstone.mozdev.org" target="_top">http://gemstone.mozdev.org</a>
				before starting this tutorial.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902249"></a>10.2. Preparing a structure with PDB2PQR</h2></div></div></div><p> We'll start by preparing a structure with <a href="http://pdb2pqr.sf.net" target="_top">PDB2PQR</a>.
				First, you need to download a PDB file from the
				<a href="http://www.pdb.org" target="_top">Protein Data
					Bank</a>.  For the purposes of this
				example, we'll use <a href="http://www.pdb.org/pdb/navbarsearch.do?newSearch=yes&amp;inputQuickSearch=1fas" target="_top">1FAS</a>
				in PDB format (download directly <a href="http://www.pdb.org/pdb/downloadFile.do?fileFormat=pdb&amp;compression=NO&amp;structureId=1FAS" target="_top">here</a>).  </p><p> Open the Gemstone interface through the Firefox
				menu <span class="guimenu">Tools</span> &#8594; <span class="guimenuitem">Gemstone</span>.  Select the PDB2PQR
					application through the Gemstone menu
					<span class="guimenu">Utils</span> &#8594; <span class="guimenuitem">PDB2PQR</span> on the righthand side of
					the Gemstone screen.  Select the PDB
					file you just downloaded and any other
					options for PDB2PQR of interest.  Your
					screen should look something like:
					</p><div class="figure"><a name="id902331"></a><p class="title"><b>Figure 10.1. Gemstone PDB2PQR calculation</b></p><div class="figure-contents"><div><img src="images/gemstone-pdb2pqr.png" alt="Gemstone PDB2PQR calculation"></div></div></div><p><br class="figure-break">
					Go ahead and "Run" the Gemstone
					calculation, check the
					<code class="filename">stdOut</code> and
					<code class="filename">stdErr</code> for any
					warning messages, and download the
					resulting PQR file.  </p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id902361"></a>10.3. Perform an electrostatics calculation with APBS</h2></div></div></div><p>We're now ready to perform an APBS
					calculation of the 1FAS electrostatic
					potential through Gemstone.  Open the
					<span class="guimenu">Chemistry</span> &#8594; <span class="guimenuitem">Apbs</span>
					menu on the righthand side of the
					Gemstone screen.  We'll step through
					each of the input tabs in the middle
					pane in the following sections.
				</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id902392"></a>10.3.1. Calculation</h3></div></div></div><p>Move to the Calculation tab in
						the middle pane.</p><p>Most of the "Mathematics"
						settings can be left as-is;
						however, feel free to play with
						the discretization and surface
						definitions to see how it
						affects your results.</p><p>Under "Molecules", load the 1FAS
						PQR file you just prepared in
						the previous section.</p><p>Don't select anything under
						"Energy and Force" for this
						calculation.</p><p>At
						this point, your screen should
						look something like this:
						</p><div class="figure"><a name="id902420"></a><p class="title"><b>Figure 10.2. Gemstone APBS/Calculation screen</b></p><div class="figure-contents"><div><img src="images/gemstone-apbs-calculation.png" alt="Gemstone APBS/Calculation screen"></div></div></div><p><br class="figure-break">
					</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id902437"></a>10.3.2. Grid</h3></div></div></div><p>Next, move to the Grid tab in the
						middle pane.</p><p>Under "General", enter 97 for X,
						Y, and Z "Grid points".</p><p>Under "Coarse Grid", choose 100
						for all X, Y, and Z "Lengths".
						Center the mesh on the
						molecule.</p><p>Under "Fine Grid", choose 80 for
						all X, Y, and Z "Lengths".
						Center the mesh on the
						molecule.</p><p>Leave the "Parallel Execution"
						alone for this
						calculation.</p><p>At this point, your screen should
						look something like this:
						</p><div class="figure"><a name="id902469"></a><p class="title"><b>Figure 10.3. Gemstone APBS/Grid screen</b></p><div class="figure-contents"><div><img src="images/gemstone-apbs-grid.png" alt="Gemstone APBS/Grid screen"></div></div></div><p><br class="figure-break">
					</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id902485"></a>10.3.3. Physics</h3></div></div></div><p>Next, move to the Physics tab in
						the middle pane.</p><p>Choose any values you like here;
						the defaults should be fine for
						most visualization
						calculations.</p><p>At this point, your screen should
						look something like this:
						</p><div class="figure"><a name="id902504"></a><p class="title"><b>Figure 10.4. Gemstone APBS/Physics screen</b></p><div class="figure-contents"><div><img src="images/gemstone-apbs-physics.png" alt="Gemstone APBS/Physics screen"></div></div></div><p><br class="figure-break">
					</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id902520"></a>10.3.4. File I/O </h3></div></div></div><p>Next, move to the File I/O tab in
						the middle pane.</p><p>Unless you have other properties
						you wan to visualize, you can
						leave these settings
						as-is.</p><p>At this point, your screen should
						look something like this:
						</p><div class="figure"><a name="id902538"></a><p class="title"><b>Figure 10.5. Gemstone APBS/File I/O screen</b></p><div class="figure-contents"><div><img src="images/gemstone-apbs-file.png" alt="Gemstone APBS/File I/O screen"></div></div></div><p><br class="figure-break">
						</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id902554"></a>10.3.5. Running the calculation</h3></div></div></div><p>Finally, return to the Calculation tab
					and select "Run APBS".  After a while,
					the results will appear under the
					Output tab in the middle pane.  When
					the run is complete, you should see
					something like this:
					</p><div class="figure"><a name="id902566"></a><p class="title"><b>Figure 10.6. Gemstone APBS/Calculation screen (run complete)</b></p><div class="figure-contents"><div><img src="images/gemstone-apbs-finished.png" alt="Gemstone APBS/Calculation screen (run complete)"></div></div></div><p><br class="figure-break">
					In particular, you should have the
					option to save the potential file
					calculated in this APBS run.  </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id902584"></a>10.3.6. Other calculations</h3></div></div></div><p>Nearly all of the examples in this
					tutorial can also be performed with
					Gemstone.  Furthermore, input files can
					be uploaded to use Gemstone as a
					"portal" to web services at other
					institutions. </p></div></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="more-sect"></a>Chapter 11. More examples...</h2></div></div></div><p> In addition to the relatively simple applications
			presented here, there are a number of additional
			examples distributed with the APBS software package
			(<a href="http://apbs.sf.net" target="_top">http://apbs.sf.net</a>) which
			include ionization energies, protein-protein
			interactions, parallel calculations, etc.  </p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="help-sect"></a>Chapter 12. None of this answered my question...</h2></div></div></div><p>Please visit the <a href="http://lists.sourceforge.net/mailman/listinfo/apbs-users" target="_top">APBS-users
				mailing list</a>.  After you've looked for
			the answer to your question in the <a href="http://sourceforge.net/mailarchive/forum.php?forum_id=46597" target="_top">archive</a>,
			please post it to the mailing list. </p></div></div></body></html>
